# Homework 2: Reproducible and Automated Workflow in R

The due date is Feb 21 at midnight. Please follow the [code squad rules](https://junwei-lu.github.io/bst236/chapter_syllabus/syllabus/#code-squad). If you are using the late days, please note in the head of README.md that “I used XX late days this time, and I have XX days remaining”. 

The main purpose of this homework is to help you:
- Implement the reproducible and automated workflow in R
- Get familiar with the Make 
- Get familiar with no absolute path and version control in R
- Prepare a template for your future R projects
  

In your `README.md` of your GitHub repository, you can add how to use your template in the `Usage` section and discuss in `Report` the rationale of your design to guarantee the reproducibility and automation of your project. It will be a cheat sheet for your future use.

## Problem 1: R Template Project

Create a GitHub repository for R project template based on revising the current repository.
Follow the style of [Python project template](https://github.com/hsph-bst236/BST236-Chapter02_Python-Template) and make adjustments based on your own preference.

Include the following components in your template:
- Stylized folder structure for R data analysis
- Change the `README.md` file and other documents to make your future use of the template more convenient
- Use Boston Housing Data (`raw_data/boston.txt`) as the example
- R code samples for data cleaning, model fitting, and visualization.
- Complete all the codes with comments `# TODO: ...`
- Your code should not depend on the absolute path.
- Create a Makefile to automate your workflow in
     - Git and GitHub version control
     - R dependencies management like python virtual environment
     - Use `renv` package for package dependencies control. In `Makefile`, you can use the script like 
         ```Makefile
         Rscript -e "renv::snapshot()"
         ```
         to save the current snapshot of the packages.

     - You need to realize all the targets in the `help` target in the current `Makefile`
- Create a `.gitignore` file to ignore the files you do not want to synchronize to the GitHub
- Post to your GitHub for your future use. 

## Problem 2: R Package

Create an R package named `RTemplate` for the data analysis pipeline in Problem 1. You can use AI to help you convert the template project to an R package and add the necessary files. Your package should be able to run the data analysis pipeline by `make_figures()` function in `R/data_analysis.R`. 

Ask AI for instructions on how to use `devtools::document() ` and `devtools::build()` to build the package. You can check package using `devtools::check()` and test the package by the R script 
```R
devtools::install()
library(RTemplate)
make_figures()
```

Add the `.tar.gz` file of your package generated by `devtools::build()` to the root of the homework repository.

 